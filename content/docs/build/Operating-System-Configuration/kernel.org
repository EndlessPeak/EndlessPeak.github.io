#+TITLE: Linux 内核配置指南
#+DATE: 2022-10-01
#+AUTHOR: EndlessPeak
#+TOC: true
#+HIDDEN: false
#+DRAFT: false
#+WEIGHT: 5

* Gentoo Linux
选 Y 后，会自动选中在 Gentoo 环境中必须开启的内核选项。

** CONFIG_GENTOO_LINUX
Gentoo Linux support

*** CONFIG_GENTOO_LINUX_PORTAGE
Select options required by Portage features
自动选中 Portage 特性，建议选 Y

*** CONFIG_GENTOO_LINUX_UDEV
Linux dynamic and persistent device naming (userspace devfs) support
此项的作用是开启:
1. CONFIG_TMPFS
   在 =/dev/shm= =/run= =/sys/fs/cgroup= 目录中挂载 tmpfs 文件系统。
2. CONFIG_DEVTMPFS
   在 =/dev= 目录中挂载 devtmpfs 文件系统。

** Init System
Support for init systems,system and service managers
"init"系统(系统与服务管理器)。

"init"是内核启动的第一个用户空间程序(PID=1),也是所有用户态进程的父进程。

另：所有内核态进程的父进程是 PID=2 的 =kthreadd=.


*** CONFIG_GENTOO_LINUX_INIT_SCRIPT
OpenRC, runit and other script based systems and managers

OpenRC 是 Gentoo 传统的"init"系统,使用基于 SysVinit 的传统启动脚本技术.选"Y"后,所有 OpenRC 所必需的内核选项(目前仅有 CONFIG_BINFMT_SCRIPT)都会被自动选中.不确定的选"Y".

*** CONFIG_GENTOO_LINUX_INIT_SYSTEMD
Systemd

若选择该项，将支持使用 Systemd 作为 init 系统。目前常见 Linux 发行版均使用 Systemd 作为 init 系统。

** CONFIG_GENTOO_KERNEL_SELF_PROTECTION
Recommended Kernel settings based on the suggestions from the Kernel Self Protection Project.

个人计算机可以不开启。

** CONFIG_GENTOO_PRINT_FIRMWARE_INFO
Enable this option to print information about firmware that the kernel is attempting to load.

This information can be accessible via the dmesg command-line utility.

* 64-bit Kernel
编译 64 位内核.这个是必选项.

* General Setup
** CONFIG_LOCALVERSION_AUTO
Automatically append version information to the version string.

自动在版本字符串后面添加版本信息,需要有 perl 以及 git 仓库支持.

stage3 默认有 perl ,因此只需要安装 git 即可。

** Kernel compression mode
内核镜像的压缩格式,可选 Gzip/Bzip2/LZMA/XZ/LZO 格式之一,推荐使用 XZ 格式.你的系统中需要有相应的压缩工具.
