#+TITLE: Reuse Terminal by Tmux
#+DATE: <2022-10-17 Mon>
#+AUTHOR: EndlessPeak
#+TOC: true
#+HIDDEN: false
#+DRAFT: false
#+WEIGHT: 5
#+Description: 本文主要介绍 Tmux 工具。

* Tmux Brief Report
Tmux 是一个终端复用器(terminal multiplexer)，属于常用的开发工具。

** Session
1. 命令行的使用方式是：打开一个终端窗口(terminal window，以下简称"窗口")，在里面输入命令
2. 用户与计算机的这种临时的交互，称为一次"会话"(session)
3. 会话的特点是，窗口与其中启动的进程是紧密关联的。

** Tmux
Tmux 将会话与窗口解除绑定，降低耦合
2. 允许在单个窗口中访问多个会话
3. 允许新窗口接入已经存在的绘画
4. 允许每个会话连接多个窗口，达到会话共享
5. 允许在会话中拆分窗口

* Basic Usage
** Enter & Exit
1. ~tmux~ 即可进入 Tmux 窗口。
2. ~exit~ 或 ~Ctrl+d~ 退出 Tmux 窗口

** Prefix Shortcuts
1. ~Ctrl+b~ 是快捷键的前缀快捷键
2. ~^b+?~ 显示帮助， ~q~ 退出帮助

* Session
** New Session
~tmux new -s <session-name>~ 创建一个 Tmux 窗口，名称是 =<session-name>=
** Detach Session
1. ~tmux detach~ 将当前会话与窗口分离
2. ~Ctrl+b d~ 同上
3. ~tmux ls~ 查看当前所有的 Tmux 会话，或者 ~tmux list-session~
4. ~Ctrl+b s~ 同上
** Attach Session
1. ~tmux attach -t 0~ 根据会话编号接入已存在的会话
2. ~tmux attach -t <session-name>~ 根据会话名称接入
** Kill Session
1. ~tmux kill-session -t 0~
2. ~tmux kill-session -t <session-name>~
** Switch Session
1. ~tmux switch -t 0~
2. ~tmux switch -t <session-name>~
** Rename Session
1. ~tmux rename-session -t 0 <new-name>~
2. ~tmux rename-session -t <old-name> <new-name>~
3. ~Ctrl+b $~ 重命名当前会话
* Windows
窗口指的是整个终端当前呈现给用户的内容，在一次会话中可复用多个窗口。

1. c for create new window
2. & for close current window
3. l for switch to last window
4. n for next window
5. p for previous window
6. w for show window menu list

* Pane
窗格指的是对窗口进行划分的形式，一个窗口可划分为多个窗格。

1. % for horizontal split
2. " for vertical split
3. x for close current pane
4. ; for switch to last pane
5. o for move anti-clockwise
6. C-o for swap pane anti-clockwise

* Double Tmux
当本地与远程同时使用 tmux 时，快捷键会被本地 tmux 捕获，解决办法：
1. 使用双前缀方法，让第一次快捷键被本地 tmux 捕获，第二次快捷键被远程 tmux 捕获。
2. 更改本地或远程的 tmux 快捷键。
