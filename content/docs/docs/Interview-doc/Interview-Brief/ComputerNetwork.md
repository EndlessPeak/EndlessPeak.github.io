---
title: 计算机网络
authors:
  - EndlessPeak
toc: true
featuredImage: 
date: 2022-03-01
hidden: false
draft: false
weight: 4
---

## 概述

1. 21世纪的三大特征？三类网络是哪三类？

   数字化、信息化、网络化；电信网络、有线电视网络、计算机网络

2. 计算机网络经历了哪些发展阶段？

   一共有三大阶段，分别是：
   1. 单个网络向互联网发展；
   2. 建成三级结构的互联网；
   3. 形成多层次ISP结构的互联网；

3. 互联网最重要的两个特点？

   **连通性**和**共享**。连通性是交换信息，共享是资源共享。

   1. 硬件资源共享
   2. 软件资源共享
   3. 用户间信息交换
   4. 分布式处理

4. 互联网的组成？

   分为边缘部分和核心部分。
   1. 边缘部分由连接在互联网上的主机构成，由用户直接使用，功能是通信和资源共享；
   2. 核心部分由网络和路由器构成，为边缘部分提供服务，功能是连通性和交换。

5. 网络边缘部分通信方式有哪些？

   客户-服务器 C/S 方式和对等 P2P 方式。

   1. B/S 

      本质上是 C/S 架构，对用户来说，可以通过固定的客户端（浏览器）接入互联网

      1. 优点：接入方式统一，具有一定的安全性；
      2. 缺点：浏览器在部分系统上的特定操作无法执行；
      3. 应用：搜索引擎；

   2. C/S

      客户端和服务端的模式；客户端向服务器发送请求，服务端根据请求向客户端返回数据；

      1. 优点：可以根据需要定制客户端
      2. 缺点：需要安装客户端才能启动
      3. 应用：QQ、微信

   3. P2P

      网络之间结点采取对等方式进行通讯，无服务器端或服务端的概念。

      1. 优点：通讯过程不经过服务器，而是直接与其他主机相连；
      2. 缺点：安全性受到影响；消耗更多的用户机器资源；
      3. 应用：P2P下载

6. 网络核心部分通信方式是什么？

   分组交换。（路由器是实现分组交换的关键构件，任务是转发收到的分组）

7. 实体、协议、服务、接口分别是什么？

   实体表示任何可发送或接收信息的硬件或软件进程。

   协议是控制两个对等实体或多个实体进行通信的规则的集合。

   在协议的控制下，两个对等实体间的通信使得本层能够向上一层提供服务。要实现本层协议，还需要使用下面一层所提供的服务。

   接口是同一结点相邻两层之间交换信息的连接点。

   协议是水平的，服务是垂直的。

8. 计算机网络提供的服务类型

   1. 面向连接服务与无连接服务

      TCP是面向连接的，IP和UDP是无连接的；

   2. 可靠服务与不可靠服务

      可靠指的是网络具有纠错、检错、应答机制；

      不可靠指的是尽最大努力交付；

   3. 有应答服务与无应答服务

      接收方收到数据后给出应答，包括接收应答与否定应答，例如TCP协议；

      无应答服务则在接收数据后不给出应答。例如WWW服务。

9. 网络协议是什么？具有哪些核心要素？各起到什么作用？

   网络中进行数据交换而建立的规则称为协议。

   1. 语法。数据和控制信息的结构与格式。
   2. 语义。发出何种控制信息、完成何种动作以及如何响应。
   3. 同步。事件发生顺序的详细说明。

10. 信息数据交换方式有哪些？

    电路交换和分组交换（包括报文交换）。

       1. 电路交换是面向连接的

          通信前建立一条双方专用的物理通信路径，通信结束后释放。

       2. 分组交换是无连接的

          可靠性高，利用率高，无连接（无建立时延），多目标服务

          1. 报文交换使用存储转发方式

          2. 分组交换在报文交换的方式上限制了每次传送的数据块大小的上限

             额外具有简化了存储管理，减少了出错概率和重发数据量

11. 东西蓝军和白军问题

    东边先发送计划，及要求确认。西边收到电文并回发同意。但是西边现在还要等待东边蓝军发送对确认的确认，而东边蓝军发送后还需要等待对这个确认的确认的确认，如此反复，两边都无法确定对方是否一定收到了电文，因此无法百分之百保证双方会共同进攻。

12. 点到点通信与端到端通信的区别（见运输层/传输层题2）

    从本质上说,由物理层、数据链路层和**网络层**组成的通信子网为网络环境中的主机提供**点到点**的服务, 而**传输层**为网络中的主机提供**端到端**的通信。

    1. 点到点通信

       直接相连的结点之间的通信称为点到点通信, 

       它只提供一台机器到另一台机器之间的通信，不涉及程序或进程的概念。

       点到点通信并不能保证数据传输的可靠性,也不能说明源主机与目的主机之间是哪两个进程在通信,这些工作都是由传输层来完成的。

    2. 端到端通信

       建立在点到点通信的基础上,它是由一段段的点到点通信信道构成的,是比点到点通信更高一级的通信方式，以完成**应用程序(进程)** 之间的通信。

       ”端” 是指用户程序的端口，端口号标识了应用层中不同的进程。

## 物理层

1. 物理层特性

   1. 机械特性 主要定义物理连接的边界点
   2. 电气特性 传输二进制位时线路上信号的电压、传输速率、距离等限制
   3. 功能特性 指明某一电平具体表示的意义
   4. 过程特性 主要与事件时序等相关
   
2. **基带**和**频带**的区别

   1. 基带信号

      **基带信号**即基本频带信号（低频），是来自信源的信号，既包括数字信号也包括模拟信号；

   2. 基带传输

      将基带信号送到数字信道上传输称为**基带传输**；<u>距离近，速率快</u>；

   3. 带通信号

      将基带信号进行载波调制后（可能是频分复用模拟信号），信号的频率范围被搬移到较高的频段；

   4. 带通传输/宽带传输

      将带通信号/宽带信号放到模拟信道传输称为带通传输（或宽带传输）；<u>距离远，速率慢</u>；

3. 比特和波特的区别？

   波特是设备每秒钟发生信号变化的度量，它代表的是信号的变化。1波特表示数字通信系统每秒传输1个码元。码元是指用一个固定时长的信号波形表示的**k进制数字**。

   比特是信息量的单位。

   换算关系为$1\ Baud=log_2k\ bit$

4. 奈奎斯特定理（解决码间串扰）

   理想低通，没有噪声，带宽有限的信道中，

   1. 极限码元传输率为$2W\ Baud$；
   2. 极限数据传输速率为$2Wlog_2k\ bit$

   其中W是带宽，**k代表码元离散电平的数目，或不同码元的个数，或码元代表k进制数**

5. 香农定理（解决噪声影响）

   信道的极限数据传输率为$Wlog_2(1+S/N)$

   式中W为信道的带宽，S为信道所输信号的平均功率，N为高斯噪声功率。

6. 采样定理

   采样频率至少需要大于等于信号最高频率的2倍，才能保证完整保留原始模拟信号的信息。

7. 信道复用技术

   1. 频分复用
   
      多路基带信号调制到不同频率载波上，叠加形成一个复合信号；
   
   2. 时分复用
   
      物理信道分为N个时间片，轮流分配给各个信号使用；
   
   3. 波分复用
   
      光的频分复用，在光纤中传输多种不同波长（频率）的光信号
   
   4. 码分复用
   
      既共享信道的频率，又共享信道的时间。

## 数据链路层

1. 数据链路层的三个基本问题？（**待完善**）

   封装成帧，透明传输和差错检测。

2. 什么是可靠传输？（**待完善**）

3. 点对点和端到端工作在哪层？是什么工作机制？

   传输层用来提供端到端的服务，两个主机上的进程进行通信，不需要关心报文的中间的转发，看上去就像两端进程直接在通信。

   数据链路层和网络层则提供点到点的通信；其中数据链路层使用点对点协议PPP，而网络层则考虑的是报文的存储转发，具体来说是从一台主机到另外一台主机。

4. 局域网有哪些？

   以太网是最普遍的有线局域网。逻辑拓扑是总线型，物理拓扑是星型。

5. 局域网的介质访问控制方式是？

   1. CSMA/CD协议
   2. 令牌总线
   3. 令牌环

   其中前两种用于总线型局域网，如以太网的介质访问控制方式是CSMA/CD协议。


## 网络层

1. 互联网网络层的设计思路和传统的电信网络有何不同？

   电信网是面向连接的，而网络层向上只提供简单灵活、无连接、尽最大努力交付的数据报服务。

   优点：使网络中路由器简单，价格低廉。

   如果需要**可靠通信**，由网络的主机中的**运输层**负责。

2. 什么是虚拟互连网络？

   使用相同的网际协议（IP协议）参与互连的网络，屏蔽各种物理网络的异构性使这些性能各异的网络看起来好像是一个统一的网络，称之为虚拟互连网络。

3. 网络互连的中间设备/中继系统有哪些？

   物理层使用转发器；

   数据链路层使用网桥或桥接器；

   网络层使用路由器；

   网络层以上使用网关；

4. IP地址编址的阶段？

   1. 分类的IP地址；
   2. 子网的划分；
   3. 构成超网；

5. 分类的IP地址具有哪些特点？

   1. IP地址管理时只分配网络号，路由器仅<u>根据网络号</u>转发分组；
   2. 当主机连接到两个不同的网络中时，必须具有两个相应的IP地址，因此<u>一个路由器至少应该有两个以上不同的IP地址</u>。
   3. 用转发器或网桥连接起来的若干局域网仍然为一个网络；
   4. 所有分配到网络号的网络都是平等的。

6. 请简述子网划分？

   子网划分的原理是从主机号借用若干比特作为子网号；

7. 请简述子网掩码？

   子网掩码的原理是使用一个与IP地址相对应的、长32bit的二进制串。

   通过子网掩码和IP地址进行按位与运算，可以得到子网地址。

8. 请简述无分类域间路由选择（CIDR）？

   CIDR是使用网络前缀来消除传统ABC类网络划分及实现超网构造的方法。

   子网掩码与CIDR的区别就是子网掩码在使用传统的ABC类地址而CIDR消除了这种传统的网络划分。

   路由选择时，使用最长前缀匹配方法。

9. 如果某些线路上未分配IP地址，是否属于网络？

   可能属于，如两个路由器直接相连时，可以不分配IP地址，这种特殊网络称之为无名网络/无编号网络。

10. IP地址与硬件地址的区别？

    在网络层及以上各层使用IP地址（逻辑地址）；

       在物理层和数据链路层使用硬件地址（物理地址）；

          1. 在网络层看到的是IP数据报，源IP地址和目的IP地址不变；
          2. 路由器转发时根据目的IP进行路由选择，不改变目的IP地址；
          3. IP数据报交给数据链路层封装成MAC帧，MAC帧在传送时使用硬件地址，上层不可见；
          4. IP层忽略下层的实现细节，使用统一的、抽象的IP地址研究主机之间或与路由器的通信。

11. 请简述ARP协议？

    ARP协议用于将IP地址转化为硬件地址。

    1. 使用ARP高速缓存（特别地，高速缓存有生存时间）；
    2. ARP进行在局域网上广播ARP请求分组（广播）；
    3. 主机B的IP地址与ARP查询的一致，收下ARP请求分组，并回发ARP响应分组（单播）；
    4. 主机A收到响应分组后在其高速缓存中写入；

12. 为什么不直接使用硬件地址？

    存在很多异构网络，它们使用不同的硬件地址；若要使得它们能够互相通信就必须进行非常复杂的硬件地址转换工作，由用户主机来完成这项工作几乎不可能。

13. 解决IP地址耗尽的问题的方法

    1. 使用无分类域间路由选择 CIDR 方法
    2. 使用网络地址转化 NAT 方法
    3. 使用IPv6地址

14. IPv6地址

    1. 单播（点对点通信）
    2. 多播（类似广播通信）
    3. 任播（目的站是一组计算机，交付时只交最近的一台）

15. 请简述ICMP协议？

    ICMP是网际控制报文协议，目的是更有效的转发IP数据报，提高交付成功的机会，使用ICMP协议来让主机或路由器报告差错和异常等情况。

    应用：分组网间探测ping命令是用来探测主机到主机之间是否可通信。ping命令是使用 IP 和网络控制信息协议 (ICMP)，它发送icmp回送请求，收到回答报文。

    ICMP协议规定：目的主机必须返回ICMP回送应答消息给源主机。如果源主机在一定时间内收到应答，则认为主机可达。

16. 请简述DHCP协议？

    动态主机配置协议常用于给主机动态地分配IP地址，它是应用层协议，基于UDP。

    DHCP使用客户/服务器方式，分为以下几步：

    1. 主机向DHCP服务器广播DHCP发现报文；
    2. DHCP服务器向主机广播DHCP提供报文；
    3. 如果接收DHCP服务器提供的相关参数，广播DHCP请求报文；
    4. DHCP服务器广播DHCP确认消息，分配IP地址给主机；

17. 路由选择协议

    分为静态路由选择策略（非自适应路由选择）和动态路由选择策略（自适应路由选择）。

    路由选择协议划分为：内部网关协议 IGP 和外部网关协议 EGP 。其中自治系统间的路由选择叫域间路由选择，自治系统内部的路由选择叫域内路由选择。

18. IGP

    1. RIP
    2. OSPF

19. EGP

## 运输层/传输层

1. 运输层的作用是什么？

   运输层向它上面的应用层提供通信服务，对上层来说，运输层提供应用进程间的逻辑通信。

2. 运输层和网络层的区别？

   由物理层、数据链路层和网络层组成的通信子网为主机之间提供**点对点**的**逻辑通信**，运输层/传输层为应用进程之间提供**端到端**的**逻辑通信**；

   网络层提供简单灵活、无连接、尽最大努力交付的服务；而运输层提供面向连接 TCP 或无连接 UDP 的运输协议，并对收到的报文进行差错检测。

3. TCP和UDP的全称是什么？TCP/IP协议是什么？

   TCP Transmission Control Protocol；UDP User Datagram Protocol

   TCP/IP协议叫做传输控制/网际协议族。

   协议分成4层，自上而下分别是应用层、运输层、网络层和网络接口层。

   应用层：HTTP，Telnet，FTP，DNS

   运输层：UDP，TCP

   网络层：IP，ICMP，IGMP

   网络接口层：ARP

4. 比较TCP与UDP的区别和联系？

   1. 联系：

      TCP与UDP都是传输层的协议，且都用端口号标识数据所达的进程。

   2. 区别：

      TCP提供的是面向连接服务，UDP提供的是无连接服务；

      TCP提供可靠交付，UDP提供不可靠交付，且无确认机制；

      TCP保证数据顺序，UDP不保证；

      TCP占用资源较多，具有流量控制和拥塞控制，可用于可靠要求高的场合；UDP占用资源较少，主要用于即时强的场合；

      TCP是基于字节流模式，UDP是基于数据报（报文）模式；

      TCP是点对点的，UDP则提供一对一，一对多，多对一和多对多的交互通信；
   
5. TCP运输连接包括哪些步骤？

   **连接建立、数据传送、连接释放。**其中建立连接又称为TCP三报文握手，断开连接称为TCP四报文挥手。

6. TCP三次握手的过程

   具体步骤如下
   1. 假设A是客户，B是服务器，A主动打开连接，B被动打开连接；

   2. 第一次握手：

      A向B发出连接请求报文段，SYN=1，初始序号seq=x；

      A进入SYN_SENT状态（同步已发送）；

   3. 第二次握手：

      B收到A的连接请求报文段，同意建立连接，向A发送确认报文段；

      确认报文段中SYN=1，ACK=1，初始序号seq=y，确认号ack=x+1；

      B进入SYN-RCVD状态（同步已收到）；

   4. 第三次握手：

      A收到B的确认后，检查ACK是否为1，ack是否正确，向B发送确认报文段；

      确认报文段中ACK=1，seq=x+1，ack=y+1；

      特别地，ACK报文段若不携带数据则不消耗序号，下一数据报文段序号仍为seq=x+1；

      A进入ESTABLISHED状态（已建立连接）；

      B收到A的确认后也进入ESTABLISHED状态。

7. 为什么需要A最后再发送一次确认？

   为了防止已失效的连接请求报文段突然传到了B，从而产生错误。

   比如A想向B建立连接，发送了一次连接请求，未收到确认，于是重传了请求，并建立了连接，数据传输完毕后释放了连接。然而第一个连接请求并没有丢失，而是长时间滞留在网络结点中，并在稍后连接释放后到达了B。B误以为是重新要求连接，因而回发确认。此时如果A并没有发出请求，就不会理睬B的确认。B以为连接已经建立，造成资源浪费。

8. 你觉得TCP三次握手是否有缺陷？

   当A向B发送请求报文段成功，B向A发送确认报文段成功，A向B发送确认报文段而B并未收到时，A会进入ESTABLISHED状态，而B由于收不到A的确认，只会恢复到LISTEN状态。

9. 数据传送（**待完善**）
   1. 超时重传
   2. 快速重传
   3. 流量控制
   4. 拥塞控制

10. TCP如何进行连接释放？TCP四次挥手的过程？

11. 

    

12. HTTPS和HTTP