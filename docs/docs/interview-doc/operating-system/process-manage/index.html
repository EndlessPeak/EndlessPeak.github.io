<!DOCTYPE html>
<html
  lang="zh"
  dir="ltr"
  
><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>进程管理 | Operating System | 悦翎轩</title>

<meta name="generator" content="Hugo Eureka 0.9.3" />
<link rel="stylesheet" href="https://endlesspeak.github.io/css/eureka.min.3f9c102b2958d0308ef084ee682440b37aa0ca93912ed5c0980028307f924cfb413f8214a8ae653b7def936d6a1bc390.css">
<script defer src="https://endlesspeak.github.io/js/eureka.min.fa9a6bf6d7a50bb635b4cca7d2ba5cf3dfb095ae3798773f1328f7950028b48c17d06276594e1b5f244a25a6c969a705.js"></script>

















<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload"
  href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&amp;family=Noto&#43;Sans&#43;SC:wght@400;600;700&amp;family=Source&#43;Sans&#43;Pro:wght@400;600;700&amp;display=swap"
  as="style" onload="this.onload=null;this.rel='stylesheet'">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/styles/nnfx-light.min.css"
   media="print"
  onload="this.media='all';this.onload=null" crossorigin>
<script defer src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/highlight.min.js"
   crossorigin></script>
  <script defer src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/languages/c.min.js"
     crossorigin></script>
  <script defer src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/languages/cpp.min.js"
     crossorigin></script>
  <script defer src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/languages/java.min.js"
     crossorigin></script>
  <script defer src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/languages/python.min.js"
     crossorigin></script>
  <script defer src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/languages/dart.min.js"
     crossorigin></script>
  <script defer src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/languages/cmake.min.js"
     crossorigin></script>
  <script defer src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/languages/rust.min.js"
     crossorigin></script>
<link rel="stylesheet" href="https://endlesspeak.github.io/css/highlightjs.min.2958991528e43eb6fc9b8c4f2b8e052f79c4010718e1d1e888a777620e9ee63021c2c57ec7417a3108019bb8c41943e6.css" media="print" onload="this.media='all';this.onload=null">


<script defer type="text/javascript" src="https://endlesspeak.github.io/js/fontawesome.min.15ca3da36d9676aa223d8be3b1f49c6d893c4e16cbfce12124e114e34b1f20e7f5eee796fba6948cfac4c6a9ae381fcd.js"></script>




<script defer src="https://cdn.jsdelivr.net/npm/mermaid@8.14.0/dist/mermaid.min.js" 
  integrity="sha384-atOyb0FxAgN9LyAc6PEf9BjgwLISyansgdH8/VXQH8p2o5vfrRgmGIJ2Sg22L0A0"  crossorigin></script>




<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script>
  MathJax = {
    tex: {
      inlineMath: [["$", "$"],["\\(", "\\)"]],
    },
    displayMath: [
      ["$$", "$$"],
      ["\[\[", "\]\]"],
    ],
    svg: {
      fontCache: "global",
    },
  };
</script>
<link rel="icon" type="image/png" sizes="32x32" href="https://endlesspeak.github.io/images/avtar_huc2c209728b40c4588688df8c11b591ef_46235_32x32_fill_box_center_3.png">
<link rel="apple-touch-icon" sizes="180x180" href="https://endlesspeak.github.io/images/avtar_huc2c209728b40c4588688df8c11b591ef_46235_180x180_fill_box_center_3.png">

<meta name="description"
  content="进程与线程 进程的概念与特征 进程的概念 引入 为实现操作系统的并发性和共享性，引入进程。 概念 进程是具有独立功能的程序在某个数据集合上的一次执行过程。 进程是进">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
      "@type": "ListItem",
      "position": 1 ,
      "name":"Docs",
      "item":"https://endlesspeak.github.io/docs/"},{
      "@type": "ListItem",
      "position": 2 ,
      "name":"Docs",
      "item":"https://endlesspeak.github.io/docs/docs/"},{
      "@type": "ListItem",
      "position": 3 ,
      "name":"Computer Interview",
      "item":"https://endlesspeak.github.io/docs/docs/interview-doc/"},{
      "@type": "ListItem",
      "position": 4 ,
      "name":"Operating System",
      "item":"https://endlesspeak.github.io/docs/docs/interview-doc/operating-system/"},{
      "@type": "ListItem",
      "position": 5 ,
      "name":"进程管理",
      "item":"https://endlesspeak.github.io/docs/docs/interview-doc/operating-system/process-manage/"}]
}
</script>



<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://endlesspeak.github.io/docs/docs/interview-doc/operating-system/process-manage/"
    },
    "headline": "进程管理 | Operating System | 悦翎轩","datePublished": "2021-11-03T00:00:00+00:00",
    "dateModified": "2021-11-03T00:00:00+00:00",
    "wordCount":  3471 ,
    "author": {
        "@type": "Person",
        "name": ["EndlessPeak"]
    },
    "publisher": {
        "@type": "Person",
        "name": "EndlessPeak",
        "logo": {
            "@type": "ImageObject",
            "url": "https://endlesspeak.github.io/images/avtar.png"
        }
        },
    "description": "进程与线程 进程的概念与特征 进程的概念 引入 为实现操作系统的并发性和共享性，引入进程。 概念 进程是具有独立功能的程序在某个数据集合上的一次执行过程。 进程是进"
}
</script><meta property="og:title" content="进程管理 | Operating System | 悦翎轩" />
<meta property="og:type" content="article" />


<meta property="og:image" content="https://endlesspeak.github.io/images/avtar.png">


<meta property="og:url" content="https://endlesspeak.github.io/docs/docs/interview-doc/operating-system/process-manage/" />




<meta property="og:description" content="进程与线程 进程的概念与特征 进程的概念 引入 为实现操作系统的并发性和共享性，引入进程。 概念 进程是具有独立功能的程序在某个数据集合上的一次执行过程。 进程是进" />




<meta property="og:locale" content="zh" />




<meta property="og:site_name" content="悦翎轩" />






<meta property="article:published_time" content="2021-11-03T00:00:00&#43;00:00" />


<meta property="article:modified_time" content="2021-11-03T00:00:00&#43;00:00" />



<meta property="article:section" content="docs" />





  <body class="flex min-h-screen flex-col">
    <header
      class="min-h-16 pl-scrollbar bg-secondary-bg fixed z-50 flex w-full items-center shadow-sm"
    >
      <div class="mx-auto w-full max-w-screen-xl"><script>
    let storageColorScheme = localStorage.getItem("lightDarkMode")
    if (((storageColorScheme == 'Auto' || storageColorScheme == null) && window.matchMedia("(prefers-color-scheme: dark)").matches) || storageColorScheme == "Dark") {
        document.getElementsByTagName('html')[0].classList.add('dark')
    }
</script>
<nav class="flex items-center justify-between flex-wrap px-4 py-4 md:py-0">
    <a href="/" class="me-6 text-primary-text text-xl font-bold">悦翎轩</a>
    <button id="navbar-btn" class="md:hidden flex items-center px-3 py-2" aria-label="Open Navbar">
        <i class="fas fa-bars"></i>
    </button>

    <div id="target"
        class="hidden block md:flex md:grow md:justify-between md:items-center w-full md:w-auto text-primary-text z-20">
        <div class="md:flex md:h-16 text-sm md:grow pb-4 md:pb-0 border-b md:border-b-0">
            <a href="/authors" class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2  border-transparent  me-4">关于</a>
            <a href="/posts/" class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2  border-transparent  me-4">文章</a>
            <a href="/docs/docs/" class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2  selected-menu-item  me-4">文档</a>
            <a href="/docs/build/" class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2  border-transparent  me-4">构建</a>
            <a href="/categories" class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2  border-transparent  me-4">分类</a>
            <a href="/tags" class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2  border-transparent  me-4">标签</a>
        </div>

        <div class="flex">
            <div class="relative pt-4 md:pt-0">
                <div class="cursor-pointer hover:text-eureka" id="lightDarkMode">
                    <i class="fas fa-adjust"></i>
                </div>
                <div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-30" id="is-open">
                </div>
                <div class="absolute flex flex-col start-0 md:start-auto end-auto md:end-0 hidden bg-secondary-bg w-48 rounded py-2 border border-tertiary-bg cursor-pointer z-40"
                    id='lightDarkOptions'>
                    <span class="px-4 py-1 hover:text-eureka" name="Light">浅色</span>
                    <span class="px-4 py-1 hover:text-eureka" name="Dark">深色</span>
                    <span class="px-4 py-1 hover:text-eureka" name="Auto">自动</span>
                </div>
            </div>
        </div>
    </div>

    <div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-0" id="is-open-mobile">
    </div>

</nav>
<script>
    
    let element = document.getElementById('lightDarkMode')
    if (storageColorScheme == null || storageColorScheme == 'Auto') {
        document.addEventListener('DOMContentLoaded', () => {
            window.matchMedia("(prefers-color-scheme: dark)").addEventListener('change', switchDarkMode)
        })
    } else if (storageColorScheme == "Light") {
        element.firstElementChild.classList.remove('fa-adjust')
        element.firstElementChild.setAttribute("data-icon", 'sun')
        element.firstElementChild.classList.add('fa-sun')
    } else if (storageColorScheme == "Dark") {
        element.firstElementChild.classList.remove('fa-adjust')
        element.firstElementChild.setAttribute("data-icon", 'moon')
        element.firstElementChild.classList.add('fa-moon')
    }

    document.addEventListener('DOMContentLoaded', () => {
        getcolorscheme();
        switchBurger();
    });
</script>
</div>
    </header>
    <main class="grow pt-16">
        <div class="pl-scrollbar">
          <div class="mx-auto w-full max-w-screen-2xl lg:px-4 xl:px-8">


<div class="lg:pt-12">
    <div class="flex flex-col md:flex-row bg-secondary-bg rounded">
        <div class="md:w-1/4 lg:w-1/5 border-e">
            <div class="sticky top-16 pt-6">
                










<div id="sidebar-title" class="md:hidden mx-4 px-2 pt-4 pb-2 md:border-b text-tertiary-text md:text-primary-text">
    <span class="font-semibold">目录</span>
    <i class='fas fa-caret-right ms-1'></i>
</div>

<div id="sidebar-toc"
    class="hidden md:block overflow-y-auto mx-6 md:mx-0 pe-6 pt-2 md:max-h-doc-sidebar bg-primary-bg md:bg-transparent">
    <div class="flex flex-wrap ms-4 -me-2 p-2 bg-secondary-bg md:bg-primary-bg rounded">
        <a class=" hover:text-eureka"
            href="https://endlesspeak.github.io/docs/docs/interview-doc/operating-system/">Operating System</a>
        
        
        


    </div>
    
<ul class="ps-6">
    
    
    
    <li class="py-2">
        <div class="">
            <a class=" hover:text-eureka"
                href="https://endlesspeak.github.io/docs/docs/interview-doc/operating-system/operating-system-summary/">绪论</a>
        </div>
        
    </li>
    
    
    
    
    <li class="py-2">
        <div class="">
            <a class=" text-eureka  hover:text-eureka"
                href="https://endlesspeak.github.io/docs/docs/interview-doc/operating-system/process-manage/">进程管理</a>
        </div>
        
    </li>
    
    
    
    
    <li class="py-2">
        <div class="">
            <a class=" hover:text-eureka"
                href="https://endlesspeak.github.io/docs/docs/interview-doc/operating-system/synchronization-exclusion/">经典同步问题</a>
        </div>
        
    </li>
    
    
    
    
    <li class="py-2">
        <div class="">
            <a class=" hover:text-eureka"
                href="https://endlesspeak.github.io/docs/docs/interview-doc/operating-system/memory-manage/">进程管理</a>
        </div>
        
    </li>
    
    
    
    
    <li class="py-2">
        <div class="">
            <a class=" hover:text-eureka"
                href="https://endlesspeak.github.io/docs/docs/interview-doc/operating-system/file-manage/">文件管理</a>
        </div>
        
    </li>
    
    
</ul>

</div>





            </div>

        </div>
        <div class="w-full md:w-3/4 lg:w-4/5 pb-8 pt-2 md:pt-8">
            <div class="flex">
                <div class="w-full lg:w-3/4 px-6">
                    <article class="prose">
  <h1 class="mb-4">进程管理</h1>

  <div
  class="text-tertiary-text not-prose mt-2 flex flex-row flex-wrap items-center"
>
  <div class="me-6 my-2">
    <i class="fas fa-calendar me-1"></i>
    <span
      >2021-11-03</span
    >
  </div>
  <div class="me-6 my-2">
    <i class="fas fa-clock me-1"></i>
    <span>7分钟阅读时长</span>
  </div>

  

  
</div>


  
  

  <h2 id="进程与线程">进程与线程</h2>
<h3 id="进程的概念与特征">进程的概念与特征</h3>
<h4 id="进程的概念">进程的概念</h4>
<ol>
<li>
<p>引入</p>
<p>为实现操作系统的<strong>并发性</strong>和<strong>共享性</strong>，引入进程。</p>
</li>
<li>
<p>概念</p>
<p>进程是具有<u>独立功能</u>的<u>程序</u>在某个<u>数据集合</u>上的<u>一次执行过程</u>。</p>
<p>进程是进程实体（进程映像）的运行过程，是系统进行资源调度和分配的<strong>独立单位</strong>。</p>
</li>
<li>
<p>进程映像/进程实体</p>
<p>由程序段，相关数据段，进程控制块PCB构成进程映像。进程映像是反应了进程在某一时刻的状态，因此进程映像是<strong>静态</strong>的；进程是<strong>动态</strong>的。</p>
</li>
<li>
<p><strong>PCB是进程的唯一标识</strong></p>
<p>在进程的整个生命周期中，系统总是利用PCB描述进程的基本情况和运行状态，进而控制和管理进程。即系统根据PCB感知进程的存在。因此称<u>PCB是进程存在的唯一标识</u>。</p>
</li>
</ol>
<h4 id="进程的特征">进程的特征</h4>
<ol>
<li>
<p>动态性</p>
<p>动态性是进程<strong>最基本的特征</strong>。</p>
</li>
<li>
<p>并发性</p>
<p>注意：并发使进程<u>失去封闭性</u>。所谓封闭性是指程序执行结果只取决于程序本身，不受外界影响；失去封闭性则在不同的外界因素下（如执行速度不同）结果也不同。</p>
</li>
<li>
<p>独立性</p>
</li>
<li>
<p>异步性</p>
<p>异步性导致执行结果不可再现。为此必须配置进程同步机制。</p>
</li>
<li>
<p>结构性</p>
<p>每个进程都配置一个PCB。结构上由程序段，相关数据段，进程控制块组成。</p>
</li>
</ol>
<h3 id="进程组织">进程组织</h3>
<p>进程内部，进程由下列部分组成：</p>
<ol>
<li>PCB
<ol>
<li>进程描述信息 <em>PID、UID</em></li>
<li>进程控制管理信息 <em>进程当前状态、进程优先级</em></li>
<li>资源分配清单 <em>内存地址指针、IO设备信息</em></li>
<li>处理机相关信息 <em>处理机中各寄存器值</em></li>
</ol>
</li>
<li>程序段</li>
<li>数据段</li>
</ol>
<blockquote>
<p>C语言编写的程序使用内存时分为三个段、正文段、数据堆段核数据栈段。代码和静态赋值在正文段，动态分配的数据在堆段，临时使用的变量（实参、未赋值的变量）在栈段。</p>
</blockquote>
<p>进程之间，进程组织方式如下：</p>
<ol>
<li>链接方式
<ol>
<li>按照进程状态将PCB分为多个队列</li>
<li>OS持有指向各个<strong>队列</strong>的指针</li>
</ol>
</li>
<li>索引方式
<ol>
<li>根据进程状态将PCB分为多个索引表</li>
<li>OS持有指向各个<strong>索引表</strong>的指针。</li>
</ol>
</li>
</ol>
<h3 id="进程的状态与转换">进程的状态与转换</h3>
<p>进程五状态模型：创建态（新建态）、就绪态、运行态、阻塞态、结束态（终止态）。</p>
<ol>
<li>
<p>基本三状态</p>
<ol>
<li>
<p>运行态</p>
</li>
<li>
<p>就绪态</p>
<p>资源分配完毕准备就绪，等待上处理机运行。调度则变为运行态。</p>
</li>
<li>
<p>阻塞态</p>
<p>缺乏所需资源或正在等待事件发生，不具备上处理机运行资格。得到所需资源或事件发生后转为就绪态。</p>
</li>
</ol>
</li>
<li>
<p>状态切换</p>
<ol>
<li>
<p>运行→就绪</p>
<p>发生调度，如时间片到，或高优先级进程抢占处理机。</p>
</li>
<li>
<p>运行→阻塞</p>
<p>进程需要等待资源或产生事件，例如系统调用，缺页故障等。</p>
<p>运行→阻塞是进程的<strong>主动</strong>行为。</p>
</li>
<li>
<p>就绪→运行</p>
<p>发生调度，如分配时间片。</p>
</li>
<li>
<p>阻塞→就绪</p>
<p>进程所需资源或所等待事件已满足，如系统调用返回，内存中已获得新页。</p>
<p>阻塞→就绪是进程的<strong>被动</strong>行为。</p>
</li>
</ol>
</li>
</ol>
<h3 id="进程控制">进程控制</h3>
<p>进程控制由<strong>不允许中断</strong>的程序实现，称该程序段为进程控制<strong>原语</strong>。原语是不可分割的<strong>基本单位</strong>。</p>
<p>原语利用<u>关中断</u>和<u>开中断</u>两个<u>特权指令</u>实现其原子性。</p>
<p>进程控制原语的执行内容不外乎下列三种：</p>
<ol>
<li>检索或申请、分配、更新、删除PCB</li>
<li>将PCB插入相关队列</li>
<li>分配或回收系统资源</li>
</ol>
<p>进程控制原语实现下列功能：</p>
<ol>
<li>
<p>进程创建</p>
<p>创建事件：终端用户登录、作业调度、系统提供服务、用户程序请求等事件都会创建进程。</p>
<p>干扰项：设备分配，只需要设置相应的数据结构即可实现。</p>
<ol>
<li>申请和分配PCB（PCB是有限的）</li>
<li>分配资源</li>
<li>初始化PCB</li>
<li>将PCB插入就绪队列</li>
</ol>
</li>
<li>
<p>进程撤销</p>
<p>撤销事件：进程运行正常结束、异常结束、外界干预等。</p>
<ol>
<li>
<p>检索将被终止的PCB</p>
</li>
<li>
<p>若尚在运行，<u>立刻剥夺</u>CPU，分配CPU给其他进程</p>
</li>
<li>
<p>终止其所有子进程</p>
<p>注：该步一般情况下执行，但也存在不终止任何子进程的可能（如创建守护进程），也存在未终止所有进程的可能（如子进程转为孤儿进程被<code>init</code>进程收养）</p>
</li>
<li>
<p>回收资源，或归还父进程，或归还操作系统</p>
</li>
<li>
<p>从所在队列中删除该进程PCB</p>
</li>
</ol>
</li>
<li>
<p>进程阻塞和唤醒</p>
<p>阻塞事件：等待分配资源、等待其他进程完成工作等。</p>
<ol>
<li>检索将被阻塞的PCB</li>
<li>保护现场，转为阻塞态，暂停运行</li>
<li>将PCB插入对应事件的等待队列</li>
</ol>
<p>唤醒事件：等待的事情已发生。</p>
<ol>
<li>检索PCB，<u>在对应事件的等待队列中</u></li>
<li>从等待队列中移除PCB，设为就绪态</li>
<li>将PCB插入就绪队列</li>
</ol>
<p>特别注意：<strong>由何事阻塞，就由何事被唤醒。</strong>“解铃还须系铃人”。</p>
</li>
<li>
<p>进程切换</p>
<p>切换事件：时间片到，更高优先级抢占，进程请求服务或请求资源而阻塞，进程终止。</p>
<ol>
<li>
<p>将运行环境信息存入PCB</p>
<p>具体包括保存处理机上下文（或进程上下文，包括必要的寄存器数据等），更新PCB信息等</p>
</li>
<li>
<p>将PCB移入相应的队列</p>
</li>
<li>
<p>选择另一个进程执行，并更新PCB</p>
</li>
<li>
<p>根据PCB恢复新进程所需的运行环境</p>
</li>
</ol>
</li>
</ol>
<p>表：僵尸进程、孤儿进程、守护进程的区分</p>
<table>
<thead>
<tr>
<th>进程类型</th>
<th>详细释义</th>
</tr>
</thead>
<tbody>
<tr>
<td>孤儿进程</td>
<td>父进程退出，子进程还在运行，则这些子进程被<code>init</code>进程收养，称之为孤儿进程。此时它们的父进程就是<code>init</code>进程。</td>
</tr>
<tr>
<td>僵尸进程</td>
<td>子进程退出，父进程还在运行，父进程不收集子进程的状态信息，致使子进程的PCB仍然在系统中存留，称之为僵尸进程。</td>
</tr>
<tr>
<td>守护进程</td>
<td>用户层守护进程的父进程创建出守护进程后会先于守护进程退出，因此用户层守护进程是由<code>init</code>进程收养的孤儿进程；内核层的守护进程的父进程不是<code>init</code>进程。</td>
</tr>
</tbody>
</table>
<p>表：处理机模式转换与进程状态切换以及调度的区别</p>
<table>
<thead>
<tr>
<th>名词</th>
<th>详细释义</th>
</tr>
</thead>
<tbody>
<tr>
<td>处理机模式转换</td>
<td>CPU从用户态到内核态，或者从内核态到用户态。处理机模式转换时，处理机逻辑上可能还在同一进程上运行，如系统调用等，该情况下返回进程继续执行时无需当前进程的环境信息。</td>
</tr>
<tr>
<td>进程切换</td>
<td>改变当前在CPU上运行的进程，当前进程的环境信息也需要改变。</td>
</tr>
<tr>
<td>处理机调度</td>
<td>处理机调度是一种决策行为，进程切换是一种实际执行行为。一般地，先有资源和CPU调度，然后发生进程的切换。</td>
</tr>
</tbody>
</table>
<h3 id="进程通信">进程通信</h3>
<p>必要性：各进程拥有的地址空间相互独立，且为了保证安全，相互不能访问其他地址空间。</p>
<p>进程通信分为低级通信方式和高级通信方式。</p>
<h4 id="低级通信">低级通信</h4>
<p>即进程同步，其中的信号量同步称为<code>PV</code>操作。</p>
<h4 id="高级通信">高级通信</h4>
<h5 id="共享存储">共享存储</h5>
<p>图：进程←→共享空间←→进程</p>
<p>通信进程间存在一块可以直接访问的共享空间，进程可以使用<u>同步互斥</u>工具进行<strong>互斥</strong>访问、读写。</p>
<p>共享存储分为两种：</p>
<ol>
<li>低级共享方式：基于<u>数据结构</u>的共享；数据结构受操作系统控制。</li>
<li>高级共享方式：基于<u>存储区</u>的共享；数据形式、存放位置由进程控制。</li>
</ol>
<h5 id="消息传递">消息传递</h5>
<p>进程间通信的内容是<u>格式化</u>的消息。通过<u>发送消息</u>和<u>接受消息</u>两个<u>原语</u>进行数据交换。</p>
<ol>
<li>
<p>直接通信方式</p>
<p>发送进程直接把消息直接发送给接受进程，挂到接受进程的消息缓冲队列上。</p>
<p>图：进程←→进程</p>
</li>
<li>
<p>间接通信方式</p>
<p>发送进程把消息发送到某个中间实体（称之为信箱）接受进程从中间实体取得消息。</p>
<p>该通信方式又称为信箱通信方式。</p>
</li>
</ol>
<h5 id="管道通信">管道通信</h5>
<p>管道：用于连接一个读进程和一个写进程以实现它们之间通信的<strong>共享文件</strong>，又称pipe文件。</p>
<ol>
<li>
<p>半双工通信</p>
<p>因此为实现双向同时传输需要设置2个管道。</p>
</li>
<li>
<p>各进程互斥访问</p>
</li>
<li>
<p>管道写满，写阻塞，且未满不许读；管道读空，读阻塞，且未空不许写。</p>
</li>
<li>
<p>读后即弃，阅后即焚。读进程最多只能有一个，防止数据读错的情况。</p>
</li>
</ol>
<p>管道通信需要提供<u>互斥、同步</u>以及确定对方存在。</p>
<h3 id="线程概念和多线程模型">线程概念和多线程模型</h3>
<h4 id="线程概念">线程概念</h4>
<p>线程：<strong>基本的CPU执行单元</strong>，程序执行的最小单元。</p>
<p>传统进程机制中，进程是资源分配、调度的基本单位。</p>
<p>引入线程后，<strong>进程</strong>是<strong>资源分配</strong>的<strong>基本单位</strong>，<strong>线程</strong>是<strong>调度</strong>的<strong>基本单位</strong>。</p>
<h4 id="线程与进程">线程与进程</h4>
<p>表：进程与线程的比较</p>
<table>
<thead>
<tr>
<th></th>
<th>进程</th>
<th>线程</th>
</tr>
</thead>
<tbody>
<tr>
<td>调度</td>
<td>进程间线程切换引起进程切换；进程内线程切换不会引起进程切换。</td>
<td>线程是独立调度的基本单位。</td>
</tr>
<tr>
<td>资源</td>
<td>进程是拥有资源和资源分配的基本单位</td>
<td>线程基本不拥有资源</td>
</tr>
<tr>
<td>并发性</td>
<td>进程可以并发执行</td>
<td>线程可以并发执行</td>
</tr>
<tr>
<td>系统开销</td>
<td>创建和切换进程开销很大</td>
<td>创建和切换线程开销很小</td>
</tr>
<tr>
<td>地址空间和其他资源</td>
<td>进程间地址空间相互独立</td>
<td>线程间共享地址空间，共享进程的资源</td>
</tr>
<tr>
<td>通信</td>
<td>进程间通信需要进程同步互斥手段辅助</td>
<td>线程间可以直接读写进程的数据段</td>
</tr>
</tbody>
</table>
<h4 id="线程属性">线程属性</h4>
<p>线程拥有线程控制块<code>TCB</code>，同一进程的多个不同<u>内核级</u>线程可以各自独立占用多个CPU从而缩短进程整体的处理时间。</p>
<p>线程在生命周期内也有阻塞态、就绪态和运行态三种基本状态。</p>
<p>同一个系统的进程/线程可以由系统调用的方式被不同的进程/线程多次使用。</p>
<h4 id="线程实现方式">线程实现方式</h4>
<ol>
<li>
<p>用户级线程</p>
<p>实现：由应用程序通过线程库实现，对操作系统透明，即操作系统不知道用户级线程的存在。因此操作系统无从对其进行调度。</p>
</li>
<li>
<p>内核级线程</p>
<p>实现：线程管理的所有工作由操作系统内核完成</p>
<p>严谨地说，内核级线程是处理机调度的单位。</p>
</li>
<li>
<p>多线程模型</p>
<ol>
<li>
<p>多对一模型</p>
<p>多个用户级线程映射到一个内核级线程管理。</p>
<p>优点：开销小，效率高；线程切换不需要CPU变态。</p>
<p>缺点：单个线程阻塞会导致整个进程阻塞，且多个线程不可在多核上并行运行。</p>
</li>
<li>
<p>一对一模型</p>
<p>一个用户级线程映射到一个内核级线程管理。</p>
<p>优点：单个线程阻塞，其他线程仍可继续执行，并发能力强。</p>
<p>缺点：成本高，开销大，线程切换需要CPU变态。</p>
</li>
<li>
<p>多对多模型</p>
<p>n个用户级线程映射到m个内核级线程上，要求m≤n。</p>
<p>优点：见1与2，同时又克服了1与2的缺点。</p>
</li>
</ol>
</li>
</ol>
<h2 id="处理机调度">处理机调度</h2>
<p>作业：用户在一次解题或一个事务处理过程中，要求计算机系统所做工作的集合，包括用户程序所需数据及命令等。</p>
<h2 id="进程同步">进程同步</h2>
<h2 id="死锁">死锁</h2>

</article>

                    
                    
                    
                    <div class="py-2">
  
    <div class="my-8 flex flex-col items-center md:flex-row">
      <a href="https://endlesspeak.github.io/authors/endlesspeak/" class="md:me-4 text-primary-text h-24 w-24">
        
        
          <img
            src="https://endlesspeak.github.io/images/avtar.png"
            class="bg-primary-bg w-full rounded-full"
            alt="Avatar"
          />
        
      </a>
      <div class="mt-4 w-full md:mt-0 md:w-auto">
        <a
          href="https://endlesspeak.github.io/authors/endlesspeak/"
          class="mb-2 block border-b pb-1 text-lg font-bold"
        >
          <h3>Serene Feather Pavilion</h3>
        </a>
        <span class="block pb-2">瞽者无以与乎文章之观,聋者无以与乎钟鼓之声。岂唯形骸有聋盲哉?</span>
        
          
          
          
          
          <a href="mailto:endlesspeak@163.com" class="me-2">
            <i class="fas fa-envelope"></i>
          </a>
        
          
          
          
          
          <a href="https://gitee.com/endlesspeak" class="me-2">
            <i class="fab fa-git-square"></i>
          </a>
        
          
          
          
          
          <a href="https://github.com/endlesspeak" class="me-2">
            <i class="fab fa-github"></i>
          </a>
        
          
          
          
          
          <a href="https://space.bilibili.com/316071845" class="me-2">
            <i class="fas fa-tv"></i>
          </a>
        
      </div>
    </div>
  
</div>

                    

                    



                    
  <div
    class="-mx-2 mt-4 flex flex-col border-t px-2 pt-4 md:flex-row md:justify-between"
  >
    <div>
      
        <span class="text-primary-text block font-bold"
          >上一页</span
        >
        <a href="https://endlesspeak.github.io/docs/docs/interview-doc/operating-system/operating-system-summary/" class="block">绪论</a>
      
    </div>
    <div class="mt-4 md:mt-0 md:text-right">
      
        <span class="text-primary-text block font-bold">下一页</span>
        <a href="https://endlesspeak.github.io/docs/docs/interview-doc/operating-system/synchronization-exclusion/" class="block">经典同步问题</a>
      
    </div>
  </div>


                    



                </div>
                
                <div class="hidden lg:block lg:w-1/4">
                    
                    <div
  class="
    bg-secondary-bg
   prose sticky top-16 z-10 hidden px-6 py-4 lg:block"
>
  <h3>本页内容</h3>
</div>
<div
  class="sticky-toc 
    border-s
   hidden px-6 pb-6 lg:block"
>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#进程与线程">进程与线程</a>
      <ul>
        <li><a href="#进程的概念与特征">进程的概念与特征</a></li>
        <li><a href="#进程组织">进程组织</a></li>
        <li><a href="#进程的状态与转换">进程的状态与转换</a></li>
        <li><a href="#进程控制">进程控制</a></li>
        <li><a href="#进程通信">进程通信</a></li>
        <li><a href="#线程概念和多线程模型">线程概念和多线程模型</a></li>
      </ul>
    </li>
    <li><a href="#处理机调度">处理机调度</a></li>
    <li><a href="#进程同步">进程同步</a></li>
    <li><a href="#死锁">死锁</a></li>
  </ul>
</nav>
</div>
<script>
  window.addEventListener("DOMContentLoaded", () => {
    enableStickyToc();
  });
</script>

                    
                </div>
                
            </div>

        </div>


    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        
        hljs.highlightAll();
        changeSidebarHeight();
        switchDocToc();
    })
</script>









          </div>
        </div>
      
    </main>
    <footer class="pl-scrollbar">
      <div class="mx-auto w-full max-w-screen-2xl"><div class="text-center p-6 pin-b">
    <p class="text-sm text-tertiary-text">&copy; 2021 <a href="https://www.wangchucheng.com/">C. Wang</a> and <a href="https://www.ruiqima.com/">R. Ma</a>
 &middot;  Powered by the <a href="https://github.com/wangchucheng/hugo-eureka" class="hover:text-eureka">Eureka</a> theme for <a href="https://gohugo.io" class="hover:text-eureka">Hugo</a></p>
</div></div>
    </footer>
  </body>
</html>
